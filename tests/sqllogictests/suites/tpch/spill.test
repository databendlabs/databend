# TPC-H spill test
statement ok
set sandbox_tenant = 'test_tenant';

statement ok
use tpch_test;

statement ok
set force_join_data_spill = 1;

statement ok
SET force_sort_data_spill = 1;

statement ok
SET force_window_data_spill = 1;

statement ok
SET force_aggregate_data_spill = 1;

statement ok
set join_spilling_buffer_threshold_per_proc_mb = 1;

statement ok
set window_partition_spilling_to_disk_bytes_limit = 1024 * 1024 * 1024;

# TPC-H TEST
include ./queries.test

# TPC-H TEST
include ./queries.test

# TPC-H TEST
include ./queries.test

# TPC-H TEST
include ./queries.test

# TPC-H TEST
include ./queries.test

# TPC-H TEST
include ./queries.test

# TPC-H TEST
include ./queries.test

# TPC-H TEST
include ./queries.test

# TPC-H TEST
include ./queries.test

# TPC-H TEST
include ./queries.test

statement ok
UNSET force_sort_data_spill;

statement ok
UNSET force_join_data_spill;

statement ok
UNSET force_window_data_spill;

statement ok
UNSET force_aggregate_data_spill;

statement ok
set join_spilling_buffer_threshold_per_proc_mb = 512;
